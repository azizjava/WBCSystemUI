<form class="exitData-form" [formGroup]="exitForm">

  <div class="row form-col">
    <div class="col">
      <mat-form-field class="full-width">
        <input matInput placeholder="{{staticText.loginusername}}"  formControlName="loginUserName" name="loginUserName" />
      </mat-form-field>
    </div>
    <div class="col">
      <mat-form-field class="full-width">
        <input matInput placeholder="{{staticText.role}}" formControlName="role" name="role" />
      </mat-form-field>
    </div>
    <div class="col">
      <mat-form-field class="full-width">
        <input [readonly]="true" matInput placeholder="{{staticText.dateout}}" formControlName="dateOut" name="dateOut">
      </mat-form-field>
    </div>
    <div class="col">
      <mat-form-field class="full-width">
        <input [readonly]="true" matInput placeholder="{{staticText.timeout}}" formControlName="timeOut" name="timeOut">
      </mat-form-field>
    </div>
  </div>


  <div class="row form-col">
    <div class="col">
      <mat-form-field class="full-width">
        <input matInput placeholder="{{staticText.sequenceno}}" formControlName="sequenceNo" name="sequenceNo" />
        <mat-error *ngIf="exitForm.controls['sequenceNo'].errors && 
        exitForm.controls['sequenceNo'].errors['required'] &&
        exitForm.controls['sequenceNo'].touched
                    ">{{staticText.sequenceno}} {{staticText.required}}
        </mat-error>
      </mat-form-field>
    </div>
    <div class="col">
      <mat-form-field class="full-width">
        <input matInput placeholder="{{staticText.secondweight}}" formControlName="secondWeight" name="secondWeight" />
        <mat-error *ngIf="exitForm.controls['secondWeight'].errors &&
        exitForm.controls['secondWeight'].errors['required'] &&
        exitForm.controls['secondWeight'].touched
              ">{{staticText.secondweight}} {{staticText.required}}
        </mat-error>
      </mat-form-field>
    </div>

  </div>

  <div class="row form-col">

    <div class="col">
      <mat-form-field class="full-width">
        <input matInput placeholder="{{staticText.deductweight}}" formControlName="deductWeight" name="deductWeight" />
        <mat-error *ngIf="exitForm.controls['deductWeight'].errors &&
        exitForm.controls['deductWeight'].errors['required'] &&
        exitForm.controls['deductWeight'].touched
              ">{{staticText.deductweight}} {{staticText.required}}
        </mat-error>
      </mat-form-field>
    </div>

    <div class="col">
      <mat-form-field class="full-width">
        <input matInput placeholder="{{staticText.netweight}}" formControlName="netWeight" name="netWeight" />
        <mat-error *ngIf="exitForm.controls['netWeight'].errors &&
        exitForm.controls['netWeight'].errors['required'] &&
        exitForm.controls['netWeight'].touched
              ">{{staticText.netweight}} {{staticText.required}}
        </mat-error>
      </mat-form-field>
    </div>

  </div>

  <div class="row form-col">

    <div class="col">
      <mat-form-field class="full-width">
        <input matInput placeholder="{{staticText.price}}" formControlName="priceTons" name="priceTons" />
        <mat-error *ngIf="exitForm.controls['priceTons'].errors &&
        exitForm.controls['priceTons'].errors['required'] &&
        exitForm.controls['priceTons'].touched
              ">{{staticText.price}} {{staticText.required}}
        </mat-error>
      </mat-form-field>
    </div>

    <div class="col">
      <mat-form-field class="full-width">
        <input matInput placeholder="{{staticText.totalprice}}" formControlName="totalPrice" name="totalPrice" />
        <mat-error *ngIf="exitForm.controls['totalPrice'].errors &&
        exitForm.controls['totalPrice'].errors['required'] &&
        exitForm.controls['totalPrice'].touched
              ">{{staticText.totalprice}} {{staticText.required}}
        </mat-error>
      </mat-form-field>
    </div>

  </div>

  <div class="row form-col">

    <div class="col">
      <mat-form-field class="full-width">
        <input matInput placeholder="{{staticText.deliveryNoteNo}}" formControlName="deliveryNoteNo" name="deliveryNoteNo" />
        <mat-error *ngIf="exitForm.controls['deliveryNoteNo'].errors &&
        exitForm.controls['deliveryNoteNo'].errors['required'] &&
        exitForm.controls['deliveryNoteNo'].touched
              ">{{staticText.deliveryNoteNo}} {{staticText.required}}
        </mat-error>
      </mat-form-field>
    </div>

    <div class="col">
      <mat-form-field class="full-width">
        <input matInput placeholder="{{staticText.orderno}}" formControlName="orderNo" name="orderNo" />
        <mat-error *ngIf="exitForm.controls['orderNo'].errors &&
        exitForm.controls['orderNo'].errors['required'] &&
        exitForm.controls['orderNo'].touched
              ">{{staticText.orderno}} {{staticText.required}}
        </mat-error>
      </mat-form-field>
    </div>

  </div>

 

  <div class="row mb-1 form-col">

    <ng-container *ngFor="let item of keyValueData ;let index = index; last as isLast; trackBy:trackByFn">    
      
      <div class="row form-col">
      
        <div class="col">
          <mat-form-field class="full-width">
            <mat-label>{{staticText.key}}</mat-label>
            <input [(ngModel)]="item.key" matInput name=key{{index}} [ngModelOptions]="{standalone: true}">
          </mat-form-field>
        </div>
      
        <div class="col">
          <mat-form-field class="full-width">
            <mat-label>{{staticText.value}}</mat-label>
            <input [(ngModel)]="item.value" matInput name=Value{{index}} [ngModelOptions]="{standalone: true}">
          </mat-form-field>
        </div>

        <div class="col d-print-none" *ngIf="isLast" >
          <button class="btn btn-sm" mat-flat-button color="primary" type ="button" mat-button (click)="addKeyValues($event)">
            {{staticText.addkeyvalues}}
          </button>
        </div>
      
      </div>
  </ng-container>  

</div>

  <div class="row mb-1 form-col" *ngIf="emptyKeyValue">
    <mat-error>
      {{staticText.emptykeyvalue}}
    </mat-error>
  </div>

  
  <div class="row form-col">

    <div class="col">
      <mat-form-field class="full-width" appearance="outline">
        <textarea matInput placeholder="{{staticText.instructions}}" formControlName="instructions"
          name="instructions"></textarea>
        <mat-error *ngIf="exitForm.controls['instructions'].errors &&
        exitForm.controls['instructions'].errors['required'] &&
        exitForm.controls['instructions'].touched
              ">{{staticText.instructions}} {{staticText.required}}
        </mat-error>
      </mat-form-field>
    </div>

  </div>


  <div class="d-flex justify-content-between w-100 d-print-none">  

    <button class="btn btn-sm" mat-flat-button color="primary" mat-button (click)="printLayout()">
      {{staticText.print}}
    </button>

    <button class="btn btn-sm"  [disabled]="!exitForm.valid" mat-flat-button color="primary" type="submit" mat-button (click)="save()">
      {{staticText.save}}
    </button>
    <button class="btn btn-sm btn-link" mat-flat-button  mat-button (click)="cancel()">
      {{staticText.cancel}}
    </button>
  </div>
</form>